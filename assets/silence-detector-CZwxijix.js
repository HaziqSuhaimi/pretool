(function(){var e=class extends AudioWorkletProcessor{constructor(){super(),this.silenceStartSample=-1,this.port.onmessage=e=>{this.processChunk(e.data)}}process(){return!0}processChunk(e){let{data:t,startSampleIndex:n,sampleRate:r,config:i,isDone:a}=e;if(a){this.port.postMessage({type:`done`});return}for(let e=0;e<t.length;e++){let a=t[e];if(Math.sqrt(a*a)<i.rmsThreshold)this.silenceStartSample===-1&&(this.silenceStartSample=n+e);else if(this.silenceStartSample!==-1){let t=this.silenceStartSample/r,a=(n+e)/r;if(a-t>=i.silencePeriod){let e={type:`silenceDetected`,start:t,end:a};this.port.postMessage(e)}this.silenceStartSample=-1}}}};registerProcessor(`silence-detector-processor`,e)})();